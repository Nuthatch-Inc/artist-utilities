(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function c(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(t){if(t.ep)return;t.ep=!0;const n=c(t);fetch(t.href,n)}})();const p=document.getElementById("fileInput"),u=document.getElementById("fileInfo"),i=document.getElementById("previewCanvas"),d=document.getElementById("scaleRange"),h=document.getElementById("scaleVal"),l=document.getElementById("downloadBtn");let a=null;function m(){h.textContent=`${d.value}%`}d.addEventListener("input",()=>{m(),g()});p.addEventListener("change",async r=>{const e=r.target.files&&r.target.files[0];if(!e)return;u.textContent=`${e.name} (${Math.round(e.size/1024)} KB)`;const c=URL.createObjectURL(e),o=new Image;o.onload=()=>{a=o,g(),URL.revokeObjectURL(c),l.disabled=!1},o.onerror=()=>{u.textContent="Failed to load image.",l.disabled=!0},o.src=c});function g(){if(!a)return;const r=Number(d.value)/100,e=Math.max(1,Math.round(a.width*r)),c=Math.max(1,Math.round(a.height*r));i.width=e,i.height=c;const o=i.getContext("2d");o.clearRect(0,0,e,c),o.drawImage(a,0,0,e,c)}l.addEventListener("click",()=>{a&&i.toBlob(r=>{const e=document.createElement("a");e.href=URL.createObjectURL(r),e.download="artist-utilities-edited.png",e.click(),URL.revokeObjectURL(e.href)},"image/png")});m();console.log("Test-Change applied");const f=document.getElementById("testBadge");f&&(f.textContent="Test-Change applied");
